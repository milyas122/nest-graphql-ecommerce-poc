# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type Product {
  id: String!
  title: String!
  description: String!
  price: Int!
  stock: Int!
  seller: User
  productOrders: [ProductOrder!]!
}

type ProductOrder {
  id: String!
  quantity: Int!
  total_price: Int!
}

type Order {
  id: String!
  order_id: String!
  status: String!
  created_at: DateTime!
  updated_at: DateTime!
  buyer: User!
  seller: User!
  productOrders: [ProductOrder!]!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type User {
  id: String
  email: String!
  name: String!
  role: String!
  password: String
  products: [Product!]!
  buyerOrders: [Order!]!
  sellerOrders: [Order!]!
}

type GetOrderHistoryPayload {
  current_page: Int!
  total_pages: Int!
  total: Int!
  orders: [Order!]!
}

type OrderDetailPayload {
  id: String!
  order_id: String!
  status: String!
  created_at: DateTime!
  updated_at: DateTime!
  productOrders: [ProductOrder!]!
}

type CancelOrderPayload {
  id: String!
  order_id: String!
  status: String!
  created_at: DateTime!
  updated_at: DateTime!
}

type UpdateOrderStatusPayload {
  id: String!
  order_id: String!
  status: String!
  created_at: DateTime!
  updated_at: DateTime!
}

type CreateUserPayload {
  sub: String!
  email: String!
  name: String!
  role: UserRole!
}

enum UserRole {
  ADMIN
  SELLER
  BUYER
}

type LoginUserPayload {
  user: CreateUserPayload!
  access_token: String!
}

type RegisterUserPayload {
  user: CreateUserPayload!
  access_token: String!
}

type MessagePayload {
  message: String!
}

type JwtPayload {
  id: String!
  email: String!
  name: String!
  role: String!
}

type GetProductListPayload {
  current_page: Int!
  total_pages: Int!
  total: Int!
  products: [Product!]!
}

type GetProductDetailPayload {
  id: String!
  title: String!
  description: String!
  price: Int!
  stock: Int!
  seller: JwtPayload!
}

type CreateProductPayload {
  id: String!
  title: String!
  description: String!
  price: Int!
  stock: Int!
}

type Query {
  getProducts(page: Int!): GetProductListPayload
  getProductDetail(id: String!): GetProductDetailPayload!
  sayHello: String!
  getOrderHistory(page: Int = 1, q: String): GetOrderHistoryPayload!
  getOrderDetail(id: String!): OrderDetailPayload!
}

type Mutation {
  removeProduct(id: String!): MessagePayload!
  createProduct(createProductInput: CreateProductInput!): CreateProductPayload!
  updateProduct(id: String!, updateProductInput: UpdateProductInput!): MessagePayload!
  loginUser(loginData: LoginUserInput!): LoginUserPayload!
  signupUser(createUserData: CreateUserInput!): RegisterUserPayload!
  registerSeller(createUserData: CreateUserInput!): RegisterUserPayload!
  createOrder(createOrderInput: CreateOrderInput!): String!
  cancelOrder(id: String!): CancelOrderPayload!
  updateOrderStatus(id: String!, updateOrderStatusInput: UpdateOrderStatusInput!): UpdateOrderStatusPayload!
}

input CreateProductInput {
  title: String!
  description: String!
  price: Int!
  stock: Int!
}

input UpdateProductInput {
  title: String
  description: String
  price: Int
  stock: Int
}

input LoginUserInput {
  email: String!
  password: String!
}

input CreateUserInput {
  email: String!
  name: String!
  password: String!
}

input CreateOrderInput {
  products: [ProductOrderItemInput!]
}

input ProductOrderItemInput {
  productId: String!
  quantity: Int! = 1
}

input UpdateOrderStatusInput {
  status: OrderStatus!
}

enum OrderStatus {
  PROCESSING
  SHIPPED
  DELIVERED
  CANCELLED
}